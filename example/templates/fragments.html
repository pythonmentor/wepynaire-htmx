{# Fragment used for the page footer #}
{% partialdef footer %}
<footer class="position-absolute bottom-0 w-100 bg-dark text-light p-3">
    <div class="container">
        &copy; 2023 Thierry Chappuis
    </div>
</footer>
{% endpartialdef footer %}

{# Fragment used to display messages at the top of the page #}
{% partialdef messages %}
{% for message in messages %}
    <div data-controller="message" class="container alert alert-dismissible {% if message.tags %}{{ message.tags }}{% endif %} d-flex align-items-center fade show" role="alert">
        <div>{{ message }}</div>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
{% endfor %}
{% endpartialdef messages %}

{# Fragment used to display the main menu of the page #}
{% partialdef navigation %}
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
        <a class="navbar-brand" href="#">WePynaire HTMX</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                {% url 'home' as url %}
                <li class="nav-item">
                <a class="nav-link {% if request.path == url %}active{% endif %}" {% if request.path == url %}aria-current="page"{% endif %} href="{{ url }}">Home{% if request.path == url %} <span class="visually-hidden">(current)</span>{% endif %}</a>
                </li>
                {% url 'admin:index' as url %}
                <li class="nav-item">
                <a class="nav-link" href="{{ url }}" target="_blank">Admin</a>
                </li>
                {% if not user.is_authenticated %}
                {% url 'users:login' as url %}
                <li class="nav-item">
                    <a class="nav-link {% if request.path == url %}active{% endif %}" {% if request.path == url %}aria-current="page"{% endif %} href="{{ url }}">Login {% if request.path == url %} <span class="visually-hidden">(current)</span>{% endif %}</a>
                </li>
                {% else %}
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'users:logout' %}">Logout</a>
                </li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>
{% endpartialdef navigation %}

